import{_ as e,o,c as t,a3 as r}from"./chunks/framework.Cs3WMzH7.js";const _=JSON.parse('{"title":"演员定位和缩放","description":"","frontmatter":{},"headers":[],"relativePath":"tutorial/actor-coordinate-and-scaling.md","filePath":"tutorial/actor-coordinate-and-scaling.md","lastUpdated":1770586857000}'),n={name:"tutorial/actor-coordinate-and-scaling.md"};function i(d,a,c,s,l,h){return o(),t("div",null,[...a[0]||(a[0]=[r('<h1 id="演员定位和缩放" tabindex="-1">演员定位和缩放 <a class="header-anchor" href="#演员定位和缩放" aria-label="Permalink to &quot;演员定位和缩放&quot;">​</a></h1><h2 id="介绍" tabindex="-1">介绍 <a class="header-anchor" href="#介绍" aria-label="Permalink to &quot;介绍&quot;">​</a></h2><p>Konado 对话系统采用<strong>屏幕区块分割算法</strong>实现角色位置的精准、自适应定位，同时内置补间动画过渡逻辑，兼顾了定位的灵活性、适配性与视觉体验。</p><p>对话管理器会根据对话内容自动生成实例，并自动管理。</p><h2 id="演员定位" tabindex="-1">演员定位 <a class="header-anchor" href="#演员定位" aria-label="Permalink to &quot;演员定位&quot;">​</a></h2><p>不同于传统对话系统中的角色定位方式（如固定位置、固定偏移等），<code>Konado</code> 采用<strong>区块分割</strong>实现角色位置的精准、自适应定位，节省了手动调整角色位置的时间，并确保角色位置在对话场景中始终处于合理范围内，加快开发效率。</p><p>同时，这样定位也可以方便在设计师在其他设计工具中使用辅助线等工具进行角色定位，而无需在游戏引擎中手动调整角色位置。</p><h3 id="横向定位-左右位置" tabindex="-1">横向定位（左右位置） <a class="header-anchor" href="#横向定位-左右位置" aria-label="Permalink to &quot;横向定位（左右位置）&quot;">​</a></h3><p>画面会被分成若干等份（最少分 2 份，最多 15 份，默认分 6 份），从左到右数，角色能放在第 1 份到倒数第 1 份之间（比如分 6 份时，角色能放在第 1 到第 5 个分割线位置），不会贴到最左 / 最右。</p><h3 id="纵向定位-上下位置" tabindex="-1">纵向定位（上下位置） <a class="header-anchor" href="#纵向定位-上下位置" aria-label="Permalink to &quot;纵向定位（上下位置）&quot;">​</a></h3><p>画面会被分成若干等份（最少分 3 份，最多 15 份，默认分 6份），从上到下数，角色能放在第 1 份到倒数第 1 份之间（比如分 3 份时，角色能放在第 1 到第 2 个分割线位置），不会贴到最上 / 最下。</p><h3 id="原理" tabindex="-1">原理 <a class="header-anchor" href="#原理" aria-label="Permalink to &quot;原理&quot;">​</a></h3><p>组件将承载角色的 <code>Control</code> 节点画布容器横向等分为 <code>division</code> 个区块（区块数量可设置≥2），区块索引从<strong>左到右递增</strong>（0 为最左侧，division 为最右侧），</p><p><code>character_position</code>（角色位置索引）的有效范围被限制为 <code>[1, division-1]</code>，避免角色完全贴左/贴右导致的视觉溢出问题，角色的<strong>中心</strong>将对齐区块分割线显示。</p><h2 id="演员缩放" tabindex="-1">演员缩放 <a class="header-anchor" href="#演员缩放" aria-label="Permalink to &quot;演员缩放&quot;">​</a></h2><p>通过调用 <code>set_texture_scale</code> 调整纹理缩放后将同步更新位置，保证缩放后的角色仍对齐目标区块，避免因缩放导致的视觉溢出问题。</p><h2 id="自适应更新" tabindex="-1">自适应更新 <a class="header-anchor" href="#自适应更新" aria-label="Permalink to &quot;自适应更新&quot;">​</a></h2><p>当画布容器尺寸变化、角色位置索引修改、纹理缩放 / 替换时，组件会自动触发 <code>_on_resized()</code> 方法重新计算并更新角色位置；若开启补间动画，位置更新会以平滑动画过渡，否则直接生效。</p>',18)])])}const u=e(n,[["render",i]]);export{_ as __pageData,u as default};
